{"version":3,"file":"static/js/298.4c850f9c.chunk.js","mappings":"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","sources":["components/CheckoutPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../App.css\";\r\nimport { db } from \"../firebaseConfig\";\r\nimport { collection, addDoc, Timestamp } from \"firebase/firestore\";\r\n\r\nconst CheckoutPage = ({ cartItems, clearCart }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    paymentMethod: \"Card\"\r\n  });\r\n  const [orderPlaced, setOrderPlaced] = useState(false);\r\n\r\n  const totalPrice = cartItems.reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  );\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  if (\r\n    formData.name &&\r\n    formData.address &&\r\n    formData.email &&\r\n    formData.phone\r\n  ) {\r\n    const order = {\r\n      customer: formData,\r\n      items: cartItems,\r\n      total: totalPrice.toFixed(2),\r\n      createdAt: Timestamp.now(),\r\n    };\r\n\r\n    try {\r\n      await addDoc(collection(db, \"orders\"), order);\r\n      console.log(\"Order placed:\", order); // âœ… DEBUG\r\n      setOrderPlaced(true);\r\n      clearCart();\r\n    } catch (error) {\r\n      console.error(\"Error saving order:\", error.message); // âœ… Show reason\r\n      alert(\"Failed to place order: \" + error.message);\r\n    }\r\n  } else {\r\n    alert(\"Please fill in all required fields.\");\r\n  }\r\n};\r\n\r\n\r\n  if (orderPlaced) {\r\n    return (\r\n      <div className=\"checkout-success fade-in\">\r\n        <h2>ðŸŽ‰ Thank you for your order!</h2>\r\n        <p>Your groceries will be delivered soon.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"checkout-container fade-in\">\r\n      <h2>Checkout</h2>\r\n\r\n      <div className=\"checkout-content\">\r\n        {/* Order Summary */}\r\n        <div className=\"order-summary\">\r\n          <h3>Order Summary</h3>\r\n          {cartItems.length === 0 ? (\r\n            <p>Your cart is empty.</p>\r\n          ) : (\r\n            <ul>\r\n              {cartItems.map((item) => (\r\n                <li key={item.name} className=\"checkout-item\">\r\n                  <img src={item.image} alt={item.name} />\r\n                  <div>\r\n                    <h4>{item.name}</h4>\r\n                    <p>Quantity: {item.quantity}</p>\r\n                    <p>Price: â‚¹{(item.price * item.quantity).toFixed(2)}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n          <p className=\"total-price\">\r\n            Total: <strong>â‚¹{totalPrice.toFixed(2)}</strong>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Checkout Form */}\r\n        <form className=\"checkout-form\" onSubmit={handleSubmit}>\r\n          <h3>Billing Details</h3>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Full Name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            placeholder=\"Delivery Address\"\r\n            value={formData.address}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email Address\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"tel\"\r\n            name=\"phone\"\r\n            placeholder=\"Phone Number\"\r\n            value={formData.phone}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n\r\n          <select\r\n            name=\"paymentMethod\"\r\n            value={formData.paymentMethod}\r\n            onChange={handleChange}\r\n          >\r\n            <option value=\"Card\">Credit/Debit Card</option>\r\n            <option value=\"COD\">Cash on Delivery</option>\r\n            <option value=\"UPI\">UPI</option>\r\n          </select>\r\n\r\n          <button type=\"submit\" className=\"place-order-btn\">\r\n            Place Order\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage;\r\n"],"names":["_ref","cartItems","clearCart","formData","setFormData","useState","name","address","email","phone","paymentMethod","orderPlaced","setOrderPlaced","totalPrice","reduce","sum","item","price","quantity","handleChange","e","_objectSpread","target","value","_jsxs","className","children","_jsx","length","map","src","image","alt","toFixed","onSubmit","async","preventDefault","order","customer","items","total","createdAt","Timestamp","now","addDoc","collection","db","console","log","error","message","alert","type","placeholder","onChange","required"],"sourceRoot":""}