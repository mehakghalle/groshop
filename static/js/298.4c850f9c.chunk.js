"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[298],{4298:(e,a,r)=>{r.r(a),r.d(a,{default:()=>c});var s=r(2555),l=r(5043),t=(r(4050),r(3344)),n=r(5472),i=r(579);const c=e=>{let{cartItems:a,clearCart:r}=e;const[c,d]=(0,l.useState)({name:"",address:"",email:"",phone:"",paymentMethod:"Card"}),[o,h]=(0,l.useState)(!1),m=a.reduce((e,a)=>e+a.price*a.quantity,0),u=e=>{d((0,s.A)((0,s.A)({},c),{},{[e.target.name]:e.target.value}))};return o?(0,i.jsxs)("div",{className:"checkout-success fade-in",children:[(0,i.jsx)("h2",{children:"\ud83c\udf89 Thank you for your order!"}),(0,i.jsx)("p",{children:"Your groceries will be delivered soon."})]}):(0,i.jsxs)("div",{className:"checkout-container fade-in",children:[(0,i.jsx)("h2",{children:"Checkout"}),(0,i.jsxs)("div",{className:"checkout-content",children:[(0,i.jsxs)("div",{className:"order-summary",children:[(0,i.jsx)("h3",{children:"Order Summary"}),0===a.length?(0,i.jsx)("p",{children:"Your cart is empty."}):(0,i.jsx)("ul",{children:a.map(e=>(0,i.jsxs)("li",{className:"checkout-item",children:[(0,i.jsx)("img",{src:e.image,alt:e.name}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:e.name}),(0,i.jsxs)("p",{children:["Quantity: ",e.quantity]}),(0,i.jsxs)("p",{children:["Price: \u20b9",(e.price*e.quantity).toFixed(2)]})]})]},e.name))}),(0,i.jsxs)("p",{className:"total-price",children:["Total: ",(0,i.jsxs)("strong",{children:["\u20b9",m.toFixed(2)]})]})]}),(0,i.jsxs)("form",{className:"checkout-form",onSubmit:async e=>{if(e.preventDefault(),c.name&&c.address&&c.email&&c.phone){const e={customer:c,items:a,total:m.toFixed(2),createdAt:n.Dc.now()};try{await(0,n.gS)((0,n.rJ)(t.db,"orders"),e),console.log("Order placed:",e),h(!0),r()}catch(s){console.error("Error saving order:",s.message),alert("Failed to place order: "+s.message)}}else alert("Please fill in all required fields.")},children:[(0,i.jsx)("h3",{children:"Billing Details"}),(0,i.jsx)("input",{type:"text",name:"name",placeholder:"Full Name",value:c.name,onChange:u,required:!0}),(0,i.jsx)("input",{type:"text",name:"address",placeholder:"Delivery Address",value:c.address,onChange:u,required:!0}),(0,i.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",value:c.email,onChange:u,required:!0}),(0,i.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:c.phone,onChange:u,required:!0}),(0,i.jsxs)("select",{name:"paymentMethod",value:c.paymentMethod,onChange:u,children:[(0,i.jsx)("option",{value:"Card",children:"Credit/Debit Card"}),(0,i.jsx)("option",{value:"COD",children:"Cash on Delivery"}),(0,i.jsx)("option",{value:"UPI",children:"UPI"})]}),(0,i.jsx)("button",{type:"submit",className:"place-order-btn",children:"Place Order"})]})]})]})}}}]);
//# sourceMappingURL=298.4c850f9c.chunk.js.map